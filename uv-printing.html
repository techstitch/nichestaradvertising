<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UV Printing</title>
    <link rel="stylesheet" href="Styles/main.css">
    <link rel="stylesheet" href="Styles/header.css">
    <link rel="stylesheet" href="Styles/footer.css">
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.3.2/lazysizes.min.js"
      async></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"
      async></script>
    <script src="https://unpkg.com/gsap@3/dist/ScrollTrigger.min.js"
      async></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/Draggable.min.js"
      async></script>
    <link rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/basiclightbox@5.0.4/dist/basicLightbox.min.css">
    <script
      src="https://cdn.jsdelivr.net/npm/basiclightbox@5.0.4/dist/basicLightbox.min.js"
      async></script>
    <link rel="icon" type="image/png" href="Assets/Logo.svg">
  </head>
  <body>
    <header class="page-width" id="header">
      <script>
        fetch('Snippets/header.html')
          .then(res => res.text())
          .then(data => {
            document.getElementById('header').innerHTML = data;
          });
      </script>
    </header>

    <section class="page-width">
      <div class="page-top-container">
        <p class="page-heading">UV Printing</p>
        <p class="page-subheading">We print everything in-houseâ€”banners,
          stickers, wallpaper, and vehicle branding.</p>
      </div>
    </section>

    <section class="page-width" id="home-section-videos">
      <link rel="stylesheet" href="Styles/home-section-videos.css">
      <div class="home-section-videos-inner-wrapper">
        <div class="home-section-videos-inner">
          <!-- Video 1 -->
          <div class="home-section-videos-card" data-video="Assets/Video-1.mp4">
            <video class="lazyload" preload="none" muted playsinline
              data-src="Assets/Video-1.mp4" data-sizes="auto">
              <source src type="video/mp4">
            </video>
            <div class="video-overlay">
              <img src="Assets/Play Arrow.png" alt="Play" class="play-icon" />
            </div>
          </div>

          <!-- Video 2 -->
          <div class="home-section-videos-card" data-video="Assets/Video-2.mp4">
            <video class="lazyload" preload="none" muted playsinline
              data-src="Assets/Video-2.mp4" data-sizes="auto">
              <source src type="video/mp4">
            </video>
            <div class="video-overlay">
              <img src="Assets/Play Arrow.png" alt="Play" class="play-icon" />
            </div>
          </div>

          <!-- Video 3 -->
          <div class="home-section-videos-card" data-video="Assets/Video-3.mp4">
            <video class="lazyload" preload="none" muted playsinline
              data-src="Assets/Video-3.mp4" data-sizes="auto">
              <source src type="video/mp4">
            </video>
            <div class="video-overlay">
              <img src="Assets/Play Arrow.png" alt="Play" class="play-icon" />
            </div>
          </div>

          <!-- Video 4 -->
          <div class="home-section-videos-card" data-video="Assets/Video-4.mp4">
            <video class="lazyload" preload="none" muted playsinline
              data-src="Assets/Video-4.mp4" data-sizes="auto">
              <source src type="video/mp4">
            </video>
            <div class="video-overlay">
              <img src="Assets/Play Arrow.png" alt="Play" class="play-icon" />
            </div>
          </div>

          <!-- Video 5 -->
          <div class="home-section-videos-card" data-video="Assets/Video-5.mp4">
            <video class="lazyload" preload="none" muted playsinline
              data-src="Assets/Video-5.mp4" data-sizes="auto">
              <source src type="video/mp4">
            </video>
            <div class="video-overlay">
              <img src="Assets/Play Arrow.png" alt="Play" class="play-icon" />
            </div>
          </div>

          <!-- Video 6 -->
          <div class="home-section-videos-card" data-video="Assets/Video-6.mp4">
            <video class="lazyload" preload="none" muted playsinline
              data-src="Assets/Video-6.mp4" data-sizes="auto">
              <source src type="video/mp4">
            </video>
            <div class="video-overlay">
              <img src="Assets/Play Arrow.png" alt="Play" class="play-icon" />
            </div>
          </div>

          <!-- Video 7 -->
          <div class="home-section-videos-card" data-video="Assets/Video-7.mp4">
            <video class="lazyload" preload="none" muted playsinline
              data-src="Assets/Video-7.mp4" data-sizes="auto">
              <source src type="video/mp4">
            </video>
            <div class="video-overlay">
              <img src="Assets/Play Arrow.png" alt="Play" class="play-icon" />
            </div>
          </div>

          <!-- Video 8 -->
          <div class="home-section-videos-card" data-video="Assets/Video-8.mp4">
            <video class="lazyload" preload="none" muted playsinline
              data-src="Assets/Video-8.mp4" data-sizes="auto">
              <source src type="video/mp4">
            </video>
            <div class="video-overlay">
              <img src="Assets/Play Arrow.png" alt="Play" class="play-icon" />
            </div>
          </div>
        </div>
      </div>

      <a href="services.html" class="view-more-videos-btn">View more
        Services</a>

      <script>
        const isMobile = window.innerWidth < 756;

        // Lazy loading with Intersection Observer
        const observer = new IntersectionObserver((entries, observer) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              const video = entry.target;
              const videoSrc = video.getAttribute('data-src');
              video.querySelector('source').src = videoSrc;
              video.load();
              observer.unobserve(video);
            }
          });
        }, { threshold: 0.25 });

        document.querySelectorAll('.home-section-videos-card video').forEach(video => {
          observer.observe(video);
        });

        document.querySelectorAll('.home-section-videos-card').forEach(card => {
          const video = card.querySelector('video');

          if (isMobile) {
            // Keep popup functionality on mobile
            card.addEventListener('click', () => {
              const videoSrc = card.getAttribute('data-video');

              const instance = basicLightbox.create(`
                <div class="video-popup-wrapper">
                  <video src="${videoSrc}" controls autoplay playsinline style="max-width: 90vw; max-height: 90vh; border-radius: 1rem;"></video>
                </div>
              `);
              instance.show();
            });
          } else {
            // Hover play and unmute on desktop
            card.addEventListener('mouseenter', () => {
              video.currentTime = 0;
              video.muted = false;
              video.play();
            });

            card.addEventListener('mouseleave', () => {
              video.pause();
              video.currentTime = 0;
              video.muted = true;
            });
          }
        });
      </script>
    </section>

    <footer id="footer">
      <script>
        fetch('Snippets/footer.html')
          .then(res => res.text())
          .then(data => {
            document.getElementById('footer').innerHTML = data;
            const interval = setInterval(() => {
              const btn = document.querySelector(".whatsapp-floating-button");
              if (btn) {
                clearInterval(interval);
                gsap.delayedCall(3, () => {
                  gsap.fromTo(btn, { autoAlpha: 0, scale: 0 }, { duration: 1, autoAlpha: 1, scale: 1, ease: "back.out(1.7)" });

                  gsap.to(btn, {
                    y: -10,
                    duration: 1.5,
                    repeat: -1,
                    yoyo: true,
                    ease: "power1.inOut"
                  });
                });
              }
            }, 100);
          });
      </script>
    </footer>
  </body>
</html>
